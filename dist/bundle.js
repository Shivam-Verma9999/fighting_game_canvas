(()=>{"use strict";var t={d:(e,i)=>{for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{JQ:()=>o});var e=function(){function t(t,e,i){void 0===e&&(e=1),this.lastKey="",this.initialJumps=2,this.jumpPower=-5,this.PlayerSpeed=1,this.velocity={x:0,y:1},this.weapon=null,this.id=t,this.x=i.x,this.y=i.y,this.height=i.height,this.width=i.width,this.color=i.color,this.totalJumpsAvailable=this.initialJumps,this.PlayerSpeed=e}return t.prototype.getDrawableCords=function(){return this},t.prototype.setWeapon=function(t){this.weapon=t},t.prototype.getWeaponForDraw=function(){var t=this.weapon.isActive?this.weapon.width:this.weapon.height,e=this.weapon.isActive?this.weapon.height:this.weapon.width;return{color:this.weapon.color,x:this.x+this.width,y:this.y,height:-t,width:e}},t.prototype.updatePos=function(){this.velocity.y+=.2,this.x+this.width+this.velocity.x>=o.width&&(this.velocity.x=0),this.y+this.height+this.velocity.y>=o.height&&(this.velocity.y=0,this.totalJumpsAvailable=this.initialJumps),this.x+=this.velocity.x,this.y+=this.velocity.y},t.prototype.activateWeapon=function(){this.weapon.isActive=!0},t.prototype.deactivateWeapon=function(){this.weapon.isActive=!1},t.prototype.jump=function(){0!=this.totalJumpsAvailable&&(this.velocity.y=this.jumpPower,this.totalJumpsAvailable--)},t}(),i=function(t,e){void 0===t&&(t={x:0,y:0,height:30,width:5,color:"yellow"}),void 0===e&&(e=10),this.color=t.color,this.height=t.height,this.width=t.width,this.isActive=!1,this.damage=e,this.isActive=!0},o=new(function(){function t(t){this._height=t.height,this._width=t.width,this._id=t.id,this._backgroundColor=t.backgroundColor}return t.prototype.initialize=function(){if(console.log("Finding canvas with id: '".concat(this._id,"' ...")),this._canvasElement=document.getElementById(this._id),null===this._canvasElement)throw new Error("Cannot find canvas");if(this._canvasElement.height=this.height,this._canvasElement.width=this.width,console.log("Canvas found with id: '".concat(this._id,"'")),this._canvas=this._canvasElement.getContext("2d"),null===this._canvas)throw new Error("Unable to get 2d context");console.log("Context Ready...")},Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){console.log("setting height"),this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){console.log("setting height"),this._width=t},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._canvas.fillStyle=this._backgroundColor,this._canvas.fillRect(0,0,this.width,this.height)},t.prototype.draw=function(t){var i=this;t.forEach((function(t){t instanceof e&&(i.drawObject(t),i.drawObject(t.getWeaponForDraw()))}))},t.prototype.drawObject=function(t){this._canvas.fillStyle=t.color,this._canvas.fillRect(t.x,t.y,t.width,t.height)},t}())({id:"canvas",height:500,width:700,backgroundColor:"black"});o.initialize();var n=new e(1,3,{x:100,y:100,height:50,width:5,color:"red"}),h=new e(2,2,{x:400,y:100,height:50,width:5,color:"green"}),s={x:0,y:0,height:30,width:5,color:"white"};n.setWeapon(new i(s,10)),h.setWeapon(new i(s,10));var a=0,c=0;window.addEventListener("keydown",(function(t){switch(t.key){case"a":case"A":n.velocity.x=-n.PlayerSpeed,n.lastKey="a";break;case"d":case"D":n.velocity.x=n.PlayerSpeed,n.lastKey="d";break;case"w":if(0!=a)return;a++,n.jump();break;case" ":n.activateWeapon()}})),window.addEventListener("keydown",(function(t){switch(t.key){case"ArrowLeft":case"A":h.velocity.x=-h.PlayerSpeed,h.lastKey="ArrowLeft";break;case"ArrowRight":case"D":h.velocity.x=h.PlayerSpeed,h.lastKey="ArrowRight";break;case"ArrowUp":if(0!=c)return;c++,h.jump()}})),window.addEventListener("keyup",(function(t){if(console.log("'".concat(t.key,"' l:").concat(t.key.length)),"w"==t.key?a=0:" "===t.key&&n.deactivateWeapon(),n.lastKey.toLowerCase()===t.key.toString().toLowerCase())switch(t.key){case"a":case"A":case"d":case"D":n.velocity.x=0}})),window.addEventListener("keyup",(function(t){if("ArrowUp"==t.key&&(c=0),h.lastKey.toLowerCase()===t.key.toString().toLowerCase())switch(t.key){case"ArrowLeft":case"A":case"ArrowRight":case"D":h.velocity.x=0}})),function t(){window.requestAnimationFrame(t),o.clear(),o.draw([n,h]),n.updatePos(),h.updatePos()}()})();